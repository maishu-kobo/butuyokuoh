@import "tailwindcss";

/* ダークモードをclassベースに変更 */
@custom-variant dark (&:where(.dark, .dark *));

/* ===========================================
   カラースキーム: 共通変数
   =========================================== */
:root {
  /* デフォルトは和モダン */
  /* 基本色 */
  --color-text: #2d2d2d;
  --color-bg: #f7f4ef;
  --color-card: #fdfbf7;
  
  /* アクセント色 */
  --color-primary: #c53d43;
  --color-primary-hover: #e85d63;
  --color-secondary: #2b4b6f;
  --color-accent: #c18a40;
  
  /* ボーダー・グレー */
  --color-border: #f0ebe1;
  --color-muted: #7d7d7d;
  --color-muted-light: #9e9e9e;
  
  /* ステータス色 */
  --color-success-bg: #e8f0e4;
  --color-success-text: #6b7b3c;
  --color-warning-bg: #fff8e1;
  --color-warning-text: #c18a40;
  --color-error-bg: #f5e6e8;
  --color-error-text: #c53d43;
  
  /* 優先度バッジ */
  --color-priority-high-bg: #f5e6e8;
  --color-priority-high-text: #c53d43;
  --color-priority-normal-bg: #e6eff5;
  --color-priority-normal-text: #2b4b6f;
  --color-priority-low-bg: #f0ebe1;
  --color-priority-low-text: #7d7d7d;

  /* Tailwind互換 */
  --foreground-rgb: 45, 45, 45;
  --background-rgb: 247, 244, 239;
  
  /* 和モダン専用（後方互換） */
  --sumi: #2d2d2d;
  --kinari: #f7f4ef;
  --shiro: #fdfbf7;
  --shu: #c53d43;
  --shu-light: #e85d63;
  --ai: #2b4b6f;
  --matcha: #6b7b3c;
  --kitsune: #c18a40;
  --sakura: #f5e6e8;
  --wasurenagusa: #e6eff5;
  --wakakusa: #e8f0e4;
  --nezumi: #7d7d7d;
  --hai: #9e9e9e;
  --gofun: #f0ebe1;
}

/* ===========================================
   カラースキーム: デフォルト（オレンジ系）
   =========================================== */
.default-scheme {
  --color-text: #1f2937;
  --color-bg: #f3f4f6;
  --color-card: #ffffff;
  
  --color-primary: #f97316;
  --color-primary-hover: #ea580c;
  --color-secondary: #f97316;  /* ヘッダーもオレンジ */
  --color-accent: #fbbf24;
  
  --color-border: #e5e7eb;
  --color-muted: #6b7280;
  --color-muted-light: #9ca3af;
  
  --color-success-bg: #dcfce7;
  --color-success-text: #166534;
  --color-warning-bg: #fef3c7;
  --color-warning-text: #92400e;
  --color-error-bg: #fee2e2;
  --color-error-text: #dc2626;
  
  --color-priority-high-bg: #fee2e2;
  --color-priority-high-text: #dc2626;
  --color-priority-normal-bg: #dbeafe;
  --color-priority-normal-text: #1d4ed8;
  --color-priority-low-bg: #f3f4f6;
  --color-priority-low-text: #6b7280;
  
  /* Tailwind互換 */
  --foreground-rgb: 31, 41, 55;
  --background-rgb: 243, 244, 246;
  
  /* 和モダン変数をデフォルトにマッピング */
  --sumi: #1f2937;
  --kinari: #f3f4f6;
  --shiro: #ffffff;
  --shu: #f97316;
  --shu-light: #ea580c;
  --ai: #f97316;  /* デフォルトはオレンジ */
  --matcha: #166534;
  --kitsune: #fbbf24;
  --sakura: #fee2e2;
  --wasurenagusa: #dbeafe;
  --wakakusa: #dcfce7;
  --nezumi: #6b7280;
  --hai: #9ca3af;
  --gofun: #e5e7eb;
}

/* ダークモード */
.dark {
  --color-text: #f1f5f9;
  --color-bg: #0f172a;
  --color-card: #1e293b;
  
  --color-border: #334155;
  --color-muted: #94a3b8;
  --color-muted-light: #64748b;
  
  --foreground-rgb: 241, 245, 249;
  --background-rgb: 15, 23, 42;
  
  --kinari: #0f172a;
  --shiro: #1e293b;
  --gofun: #334155;
  --nezumi: #94a3b8;
  --hai: #64748b;
  --sumi: #f1f5f9;
}

body {
  color: var(--color-text);
  background: var(--color-bg);
  font-feature-settings: "palt";
}

/* 和紙風テクスチャ（薄い） */
.washi-texture {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%23d4c9b8' fill-opacity='0.15' d='M1 3h1v1H1V3zm2-2h1v1H3V1z'%3E%3C/path%3E%3C/svg%3E");
}

/* カード共通スタイル */
.wa-card {
  background: var(--shiro);
  border: 1px solid var(--gofun);
  box-shadow: 0 2px 8px rgba(45, 45, 45, 0.06);
}

/* ボタン共通 */
.wa-btn-primary {
  background: var(--shu);
  color: white;
  transition: all 0.2s ease;
}

.wa-btn-primary:hover {
  background: var(--shu-light);
}

.wa-btn-secondary {
  background: var(--ai);
  color: white;
}

/* 入力フィールド */
.wa-input {
  border: 1px solid var(--gofun);
  background: var(--shiro);
  transition: border-color 0.2s ease;
}

.wa-input:focus {
  border-color: var(--shu);
  outline: none;
  box-shadow: 0 0 0 2px rgba(197, 61, 67, 0.1);
}

/* タブのアクティブ状態 */
.wa-tab-active {
  border-bottom-color: var(--shu);
  color: var(--shu);
}

/* 優先度バッジ */
.priority-high {
  background: var(--sakura);
  color: var(--shu);
}

.priority-normal {
  background: var(--wasurenagusa);
  color: var(--ai);
}

.priority-low {
  background: var(--gofun);
  color: var(--nezumi);
}

/* ソースバッジ */
.source-amazon {
  background: #fff3e0;
  color: #e65100;
}

.source-rakuten {
  background: #ffebee;
  color: #c62828;
}

/* 成功・警告・エラー */
.wa-success {
  background: var(--wakakusa);
  color: var(--matcha);
}

.wa-warning {
  background: #fff8e1;
  color: var(--kitsune);
}

.wa-error {
  background: var(--sakura);
  color: var(--shu);
}

/* line-clamp utilities */
.line-clamp-1 {
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* タブ切り替えアニメーション */
@keyframes slideInFromRight {
  from {
    transform: translateX(100px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slideInFromLeft {
  from {
    transform: translateX(-100px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.slide-in-right {
  animation: slideInFromRight 0.2s ease-out;
}

.slide-in-left {
  animation: slideInFromLeft 0.2s ease-out;
}

/* スクロールバー（和モダン） */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--gofun);
}

::-webkit-scrollbar-thumb {
  background: var(--hai);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--nezumi);
}

/* セレクション */
::selection {
  background: rgba(197, 61, 67, 0.2);
  color: var(--sumi);
}
