# UIリファクタリング計画

## 目的
ナビゲーションを整理し、7タブから4タブに削減する。

## 変更前
- タブ: リスト, 出費予定, 購入済, 統計, 比較, カテゴリ, ゴミ箱 (7個)
- スタイル: 下線型タブ

## 変更後
- メインタブ: リスト, 出費予定, 購入済, 統計 (4個)
- 設定ページに移動: 比較グループ, カテゴリ, ゴミ箱
- スタイル: ピル型タブ（rounded-full）

## ステップ

### Step 1: page.tsxのタブを削減 ✅ 完了 (2026-01-18)
- [x] Tab型を 'list' | 'budget' | 'purchased' | 'stats' に変更
- [x] TABS配列を4つに
- [x] タブボタンを4つに
- [x] 比較/カテゴリ/ゴミ箱のコンテンツを削除
- [x] 不要なstateを削除（newGroupName, editingGroupId等）
- [x] タブスタイルをピル型に
- [x] サマリーカードを追加

### Step 2: settings/page.tsxにセクション追加 ✅ 完了 (2026-01-18)
- [x] カテゴリ管理セクション追加
- [x] 比較グループセクション追加
- [x] ゴミ箱セクション追加

### Step 3: テスト・調整 ✅ 完了
- [x] ビルド確認
- [x] 画面確認
- [x] 微調整

## 完了サマリー

ナビゲーションの整理が完了しました。

**Before**: 7タブ（リスト, 出費予定, 購入済, 統計, 比較, カテゴリ, ゴミ箱）
**After**: 4タブ（リスト, 出費予定, 購入済, 統計）+ 設定ページに移動

**改善点**:
1. タブがピル型ボタンに
2. サマリーカードがトップに表示
3. 背景色がより洗練されたグレーに
4. 設定ページが充実

---

## 残作業: 比較グループの商品表示

### 問題
比較グループに入れた商品を確認・比較する方法がない。

### 議論の結果

**却下された案**: 設定ページの比較グループ管理内で商品一覧を表示
- 理由: 設定ページは設定（作成・編集・削除）に役割を徒すべき
- 商品比較は別の場所で行うべき

**採用予定の案**: リストのフィルターで対応
- カテゴリフィルターと同様に、比較グループフィルターを追加
- UIパターンの一貫性がある
- 実装が軽い

### 実装手順

1. **設定ページの比較グループ管理を元に戻す**
   - 商品一覧表示を削除
   - グループの作成・編集・削除のみにする

2. **リストページに比較グループフィルターを追加**
   - `src/app/page.tsx` の検索・フィルターエリアに追加
   - カテゴリフィルターの下に配置
   - UI:
     ```
     比較グループ: [すべて] [イヤホン比較] [モニター比較] ...
     ```

3. **フィルタリングロジック追加**
   - `selectedGroup` stateを追加
   - filteredItemsにグループフィルターを追加

### ブランチ情報

- 現在のブランチ: `ui-refactor-settings`
- PR作成先: https://github.com/maishu-kobo/butuyokuoh/pull/new/ui-refactor-settings
- 注意: mainブランチにはPR経由でのみマージ可能

## ファイル
- `src/app/page.tsx` - メインページ
- `src/app/settings/page.tsx` - 設定ページ
- `src/components/TrashView.tsx` - ゴミ箱コンポーネント（再利用）
